<form id="search-form" is="search-form"
  autocomplete="false"
  action="{{ site.baseurl }}/search/" method="GET">
  {% capture common_input_attributes %}autocomplete="off" autocorrect="off" autocapitalize="off"{% endcapture %}

  {% capture keyboard_help %}
  <div class="u-help show-desktop">
    Press the
    <span class="show-mac">&#x2318; (command)</span>
    <span class="show-win">&#8963; (control)</span>
    key to select multiple values
  </div>
  {% endcapture %}

  <div class="container search-form-intro">

    <legend>Find Schools By:</legend>
    <h1 class="large_heading">Find Schools By:</h1>
    <p>Enter criteria that is important to you</p>

  </div>

  {% if show_search_filters %}
  <fieldset>

    <aria-accordion id="search-filters" class="container">

      <legend>Filters</legend>
      <h1 class="search_category">
        <a aria-expanded="true" aria-controls="filters-content">
          Filters
        </a>
      </h1>

      <div id="filters-content" aria-hidden="false" class="accordion-div">

        <div class="filter_section">
          <h2>Cost Per Year</h2>
          <picc-slider format="$" max="50000" average="22000">
            <input type="hidden" name="average_cost_range">
          </picc-slider>
        </div>


        <div class="filter_section">
          <h2>Graduation Rate</h2>
          <picc-slider format="%" max="1">
            <input type="hidden" name="graduation_rate_range">
          </picc-slider>
        </div>

        <div class="filter_section">
          <h2>Salary After Graduation</h2>
          <picc-slider format="$" max="50000" average="25000">
            <input type="hidden" name="average_salary_range">
          </picc-slider>
        </div>

        <div class="filter_section">
          <h2>Monthly Student Loan Payment</h2>
          <picc-slider format="$" max="500" average="280">
            <input type="hidden" name="monthly_loan_payment_range">
          </picc-slider>
        </div>

      </div>

    </aria-accordion>

  </fieldset>
  {% endif %}


  <fieldset>

    <aria-accordion id="school-name" class="container">

      <legend>Name</legend>
      <h1 class="search_category">
        <a aria-expanded="true" aria-controls="name-content">
          Name
        </a>
      </h1>

      <div id="name-content" aria-hidden="false" class="accordion-div">
        <label for="name-school">School name</label>
        <input id="name-school" name="name" type="text" placeholder="e.g. USA University" {{ common_input_attributes }}>
      </div>

    </aria-accordion>

  </fieldset>

  <fieldset>

    <aria-accordion id="school-location" class="container">

      <legend>Location</legend>
      <h1 class="search_category">
        <a aria-expanded="false" aria-controls="location-content">
          Location
        </a>
      </h1>

      <div id="location-content" aria-hidden="true" class="accordion-div">

        <div class="input-add group_inline">

          <label for="select-state">
            Select one or more states
            {{ keyboard_help }}
            <select name="state" id="select-state" multiple="multiple">
              {% for state in site.data.states|sort('name') %}
              <option value="{{ state.abbr }}">{{ state.name }}</option>
              {% endfor %}
            </select>
          </label>

          <!--
          <div class="u-group_inline u-group_inline-right u-nowrap">
            <button class="button button-add">
              Add State
            </button>
            <button class="button button-remove">
              &times;
            </button>
          </div>
          -->

        </div>

        <label for="select-region">
          Select a region
          {{ keyboard_help }}
          <select name="region" id="select-region" multiple="multiple" size="{{ site.data.regions|size() }}">
            {% for region in site.data.regions|sort('name') %}
            <option value="{{ region.id }}" data-states="{{ region.states }}">{{ region.name }}</option>
            {% endfor %}
          </select>
        </label>

        <div class="group_inline">

          <label for="zip-code" class="group_inline-left">Enter a ZIP Code
            <input id="zip-code" name="zip_code" type="number" placeholder="e.g. 45400" {{ common_input_attributes }}>
          </label>

          <label for="search-radius" class="group_inline-right">Mile radius
            <input name="search_radius" type="number" step=".1" placeholder="no limit" id="search-radius" {{ common_input_attributes }}>
          </label>

        </div>

        <label for="online" class="checkbox">
          <input id="online" type="checkbox" name="size" value="online" tabindex="0">
          <span tabindex="-1" class="checkbox-focus"></span>Include Online Schools
        </label>

      </div>

    </aria-accordion>

  </fieldset>

  <fieldset>

    <aria-accordion id="school-degree" class="container">

      <legend>Major/Degree</legend>
      <h1 class="search_category">
        <a aria-expanded="false" aria-controls="major-content">
          Major/Degree
        </a>
      </h1>
      <div id="major-content" aria-hidden="true" class="accordion-div">

        <label for="major">Specify a major or degree
          <input id="major" name="major" type="text" placeholder="Type a major" {{ common_input_attributes }}>
        </label>

        <label for="major-type">Select a type of degree
          <select id="major-type" name="major_type">
            <option value=""></option>
            <option>???</option>
          </select>
        </label>
      </div>

    </aria-accordion>

  </fieldset>

  <fieldset>

    <aria-accordion id="school-size" class="container">

      <legend>Size</legend>
      <h1 class="search_category">
        <a aria-expanded="false" aria-controls="size-content">
          Size
        </a>
      </h1>

      <div id="size-content" aria-hidden="true">
        <fieldset class="nested_fieldset">

          <legend>Undergraduate Student Body</legend>
          <h1>Undergraduate Student Body</h1>

          <ul>
            <li>
              <label for="size-small" class="checkbox">
                <input id="size-small" type="checkbox" name="size" value="small" tabindex="0">
                <span tabindex="-1" class="checkbox-focus"></span>Small (&lt; 2,000)
              </label>
            </li>
            <li>
              <label for="size-medium" class="checkbox">
                <input id="size-medium" type="checkbox" name="size" value="medium" tabindex="0">
                <span tabindex="-1" class="checkbox-focus"></span>Medium (2,000&ndash;15,000)
              </label>
            </li>
            <li>
              <label for="size-large" class="checkbox">
                <input id="size-large" type="checkbox" name="size" value="large" tabindex="0">
                <span tabindex="-1" class="checkbox-focus"></span>Large (&gt; 15,000)
              </label>
            </li>
          </ul>

        </fieldset>

        <!-- <fieldset class="nested_fieldset">

          <legend>Student-to-Faculty Ratio</legend>
          <h1>Student-to-Faculty Ratio</h1>

          <ul>
            <li>
              <label for="ratio-low" class="checkbox">
                <input id="ratio-low" type="checkbox" name="sf_ratio" value="low" tabindex="0">
                <span tabindex="-1" class="checkbox-focus"></span>Low (&lt; 20:1)
              </label>
            </li>
            <li>
              <label for="ratio-medium" class="checkbox">
                <input id="ratio-medium" type="checkbox" name="sf_ratio" value="medium" tabindex="0">
                <span tabindex="-1" class="checkbox-focus"></span>Medium (20:1&ndash;50:1)
              </label>
            </li>
            <li>
              <label for="ratio-high" class="checkbox">
                <input id="ratio-high" type="checkbox" name="sf_ratio" value="high" tabindex="0">
                <span tabindex="-1" class="checkbox-focus"></span>High (&gt; 50:1)
              </label>
            </li>
          </ul>

        </fieldset> -->

      </div>

    </aria-accordion>

  </fieldset>

  <div class="container search_form-submit">

    <button id="search-submit" class="button button-primary">
      Find Schools
    </button>

    <div>
      <a class="button link-more">
        Advanced Search <i class="fa fa-plus"></i>
      </a>
    </div>

  </div>

</form>
